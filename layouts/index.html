<!DOCTYPE html>
{{- $defaultColor := .Site.Params.defaultColor | default "auto" -}}

{{ if eq $defaultColor "dark" }}
<html lang="{{ .Site.LanguageCode }}" class="dark">
{{ else if eq $defaultColor "light" }}
<html lang="{{ .Site.LanguageCode }}" class="light">
{{ else }}
<html lang="{{ .Site.LanguageCode }}">
{{ end }}

{{- partial "head.html" . -}}

<body data-theme="{{ $defaultColor }}" class="notransition">
    {{- partial "scriptsBodyStart.html" . -}}
    {{- partial "header.html" . -}}

    <div class="wrapper">

        <!-- ðŸ‘¤ Profile Section -->
        <section style="display: flex; align-items: center; margin-top: 2rem; margin-bottom: 3rem;">
            <img src="/images/profile.jpg" alt="Profile Photo" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; margin-right: 1.5rem;" />
            <div>
                <h1 style="margin: 0;">Chakradhar</h1>
                <p style="margin: 0.5rem 0 0 0;">Aspiring Security Engineer & Backend Developer.<br/>Writing about code, hacking, and everything in between.</p>
            </div>
        </section>

        <!-- ðŸ“„ Recent Posts -->
        <main aria-label="Content">
            <h3 class="posts-item-note" aria-label="Recent Posts">{{ T "home.recent_posts" }}</h3>
            {{ $pagesToShow := where .Site.RegularPages "Type" "in" site.Params.mainSections }}
            {{ $posts := $pagesToShow.ByDate.Reverse }}
            {{ range first 5 $posts }}
                {{ partial "postCard" . }}
            {{ end }}

            {{ if gt (len $posts) 5 }}
                <p>
                    {{ range $firstSection := (where .Site.Sections "Section" "in" (first 1 (.Site.Params.mainSections))) }}
                        <a href="{{ $firstSection.Permalink }}">{{ T "home.see_all_posts" }}</a>
                    {{ end }}
                </p>
            {{ end }}
        </main>

        <!-- ðŸ’¼ Project Showcase -->
        <section style="margin-top: 4rem;">
            <h3>Featured Projects</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1rem;">
                <a href="https://github.com/Drax-dr/flask-basic" target="_blank" style="text-decoration: none;">
                    <div style="border: 1px solid #ccc; border-radius: 8px; padding: 1rem;">
                        <h4 style="margin-top: 0;">Flask Basic</h4>
                        <p style="margin-bottom: 0;">Minimal Flask starter app with routing and templating.</p>
                    </div>
                </a>
                <a href="https://github.com/Drax-dr/blog-api" target="_blank" style="text-decoration: none;">
                    <div style="border: 1px solid #ccc; border-radius: 8px; padding: 1rem;">
                        <h4 style="margin-top: 0;">Blog API</h4>
                        <p style="margin-bottom: 0;">RESTful API for blog posts using Flask and SQLite.</p>
                    </div>
                </a>
                <a href="https://github.com/Drax-dr/flask-stripe" target="_blank" style="text-decoration: none;">
                    <div style="border: 1px solid #ccc; border-radius: 8px; padding: 1rem;">
                        <h4 style="margin-top: 0;">Flask Stripe</h4>
                        <p style="margin-bottom: 0;">Stripe payment integration demo in Flask.</p>
                    </div>
                </a>
                <a href="https://github.com/Drax-dr/handwriter" target="_blank" style="text-decoration: none;">
                    <div style="border: 1px solid #ccc; border-radius: 8px; padding: 1rem;">
                        <h4 style="margin-top: 0;">Handwriter</h4>
                        <p style="margin-bottom: 0;">Python script to render text as realistic handwriting.</p>
                    </div>
                </a>
            </div>
        </section>

    </div>

    {{- partial "footer.html" . -}}
    {{- partial "scriptsBodyEnd.html" . -}}
</body>
</html>
